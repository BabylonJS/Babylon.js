var createScene = function () {
    // This creates a basic Babylon Scene object (non-mesh)
    var scene = new BABYLON.Scene(engine);

    // This creates and positions a free camera (non-mesh)
    var camera = new BABYLON.FreeCamera("camera1", new BABYLON.Vector3(0, 5, -10), scene);

    // This targets the camera to scene origin
    camera.setTarget(BABYLON.Vector3.Zero());

    // This attaches the camera to the canvas
    camera.attachControl(canvas, true);

    // This creates a light, aiming 0,1,0 - to the sky (non-mesh)
    var light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);

    // Default intensity is 1. Let's dim the light a small amount
    light.intensity = 0.7;

    var nodeGeometry = new BABYLON.NodeGeometry();

    // Source
    var dataBlock = new BABYLON.BoxBlock("box");

    // Transformation
    var setPositionsBlock = new BABYLON.SetPositionsBlock("set positions");
    dataBlock.geometry.connectTo(setPositionsBlock.geometry);

    var addBlock = new BABYLON.MathBlock("add");
    addBlock.operation = BABYLON.MathBlockOperations.Add;

    var positions = new BABYLON.GeometryInputBlock("Positions");
    positions.contextualValue = BABYLON.NodeGeometryContextualSources.Positions;
    
    positions.output.connectTo(addBlock.left);

    var random = new BABYLON.RandomBlock("random");
    var min = new BABYLON.GeometryInputBlock("Min");
    min.value = new BABYLON.Vector3(-1, -1, -1);
    var max = new BABYLON.GeometryInputBlock("Max");
    max.value = new BABYLON.Vector3(1, 1, 1);

    min.output.connectTo(random.min);
    max.output.connectTo(random.max);
    
    random.output.connectTo(addBlock.right);   

    addBlock.output.connectTo(setPositionsBlock.positions);

    // Additional source
    var dataBlock2 = new BABYLON.BoxBlock("box");
    var mergeBlock = new BABYLON.MergeGeometryBlock("Merge");
    setPositionsBlock.output.connectTo(mergeBlock.geometry0);
    dataBlock2.geometry.connectTo(mergeBlock.geometry1);

    // Final output
    var output = new BABYLON.GeometryOutputBlock("Final");
    mergeBlock.output.connectTo(output.geometry);

    nodeGeometry.outputBlock = output;

    nodeGeometry.createMesh("test", scene);

    return scene;
};


Block ideas:
- scene loader (file?)
- do not attach mesh data when using snippet server
- drag drop d'un teleport: mauvaise accroche sur in et cut sur output








