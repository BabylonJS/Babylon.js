var __extends=this&&this.__extends||(function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var n in r)r.hasOwnProperty(n)&&(o[n]=r[n])};return function(r,n){function e(){this.constructor=r}o(r,n),r.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}})(),BABYLON;!(function(o){var r=(function(r){function n(n,e,t,i,l){var s=r.call(this,n,e,"grassProceduralTexture",t,i,l)||this;return s._groundColor=new o.Color3(1,1,1),s._grassColors=[new o.Color3(.29,.38,.02),new o.Color3(.36,.49,.09),new o.Color3(.51,.6,.28)],s.updateShaderUniforms(),s}return __extends(n,r),n.prototype.updateShaderUniforms=function(){this.setColor3("herb1Color",this._grassColors[0]),this.setColor3("herb2Color",this._grassColors[1]),this.setColor3("herb3Color",this._grassColors[2]),this.setColor3("groundColor",this._groundColor)},Object.defineProperty(n.prototype,"grassColors",{get:function(){return this._grassColors},set:function(o){this._grassColors=o,this.updateShaderUniforms()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groundColor",{get:function(){return this._groundColor},set:function(o){this._groundColor=o,this.updateShaderUniforms()},enumerable:!0,configurable:!0}),n})(o.ProceduralTexture);o.GrassProceduralTexture=r})(BABYLON||(BABYLON={})),BABYLON.Effect.ShadersStore.grassProceduralTexturePixelShader="precision highp float;\nvarying vec2 vPosition;\nvarying vec2 vUV;\nuniform vec3 herb1Color;\nuniform vec3 herb2Color;\nuniform vec3 herb3Color;\nuniform vec3 groundColor;\nfloat rand(vec2 n) {\nreturn fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);\n}\nfloat noise(vec2 n) {\nconst vec2 d=vec2(0.0,1.0);\nvec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));\nreturn mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);\n}\nfloat fbm(vec2 n) {\nfloat total=0.0,amplitude=1.0;\nfor (int i=0; i<4; i++) {\ntotal+=noise(n)*amplitude;\nn+=n;\namplitude*=0.5;\n}\nreturn total;\n}\nvoid main(void) {\nvec3 color=mix(groundColor,herb1Color,rand(gl_FragCoord.xy*4.0));\ncolor=mix(color,herb2Color,rand(gl_FragCoord.xy*8.0));\ncolor=mix(color,herb3Color,rand(gl_FragCoord.xy));\ncolor=mix(color,herb1Color,fbm(gl_FragCoord.xy*16.0));\ngl_FragColor=vec4(color,1.0);\n}";